# The Naughtiest Problem and Trifold Principle of PCG

---
## The Naughtiest Problem

### Introduction and History

**'The Naughtiest Problem'** is a toy problem I developed which encompassed the realization of extremely advanced and detailed 3D simulation worlds that are mostly if not fully procedurally generated by computers *(i.e. s.t. human involvement is at most minor and high-level)*. More specifically: it invites discussion regarding:
* The features, requirements, and constraints of such worlds and the creation thereof; 
* The definition of how much human-provded context, content, and otherwise design/direction is needed for their creation (as well as the theoretical mimimum/optimum levels thereof); and
* How worlds that derive from and/or relate with a pre-written lore can be correctly initialized thereto WRT some specified point-in-time, consistently follow *(if not mirror)* its remaining progression *(and by what min error)*, and most interestingly: 'naturally' extend and expand itself past all pre-existing (human authored) lore

I have been thinking about this problem for many years, and it was one of the primary reasons why I returned to college to study Computer Science. However, I'm not necessarily alone in this pursuit, nor are the other people who have an interest in Procedural Content Generation (hereafter **PCG**). Almost everyone of even the slightest creative mind has likely many times envisioned stepping into a fictional world, interacting with it *(including directing its progression - both implicitly and explicitly)*, exploring an infinite numnber of alternate progressions/histories thereof, merging it with other universes *(including our own)*, and/or expanding it beyond the events described bt its authors/creators. Indeed there are entire genres of this popular throughout the internet; including *'Alternate Histories'*, *'Fan Fiction'*, and even highly collaborative and interconnected universes such as that of *'The SCP Foundation'*, *'The Backrooms'*, *'Creepypastas'*, and more.

However, it was around 2017 when I started explore beyond the 'surface level' and commence a more serious contemplation to this problem and how to build a model thereto *(which was also when it received its official and silly-yet-fitting name)*. To the latter, and as introduction to the problem itself: I was taking a graduate course in Computer Graphics at the time, for which the instructor was retired USAF Lt.Col. Dr. Elton P Amburn. Having previously discussed both my interests in PCG and our mutual interests/experience with immersive Virtual Reality: I visited one of his office hours where, following a short greeting, I informed him of ***"had a very naughty problem of mine that I needed to discuss"***. Lt.Col. Amburn, of course, reacted understandably with apprehension and concern for whatevee I was about to discuss; and this was, of course, the appropriate reaction for what I would go on to discuss...

### The Naughtiest Problem

*In Algorithmics, problem definitions are often prefaced with the phrase "Suggest an algorithm that…". I retain this preface for the sake of tradition. With that said, the original description of this problem is as follows…*

> *Suggest an algorithm that takes as its 'content-input' the books, artwork, films, 3D models, and all other lore and multimedia encompassing the Tolkien Legendarium (i.e. universe described and documented by JRR Tolkien via The Silmarillion, Hobbit, Lord of the Rings, etc.) and outputs (i.e. procedurally generates) a highly detailed, realistic, and immersive interactive 3D simulation of Arda (i.e. Middle Earth) such that the world is 'Physically Stable' and 'Contextually Consistent.*
>
> *The output will include all of the terrain, settlements, locations, landmarks, flora, fauna, sentient races, and minor (i.e. NPC) characters described by the input; as well as all of the well-known/described characters including their knowledge, memories, and personalities - WRT the specific point in the lore progression where the world is initialized. The world can be initialized at any point within the lore timeline such that all things and beings within are consistent thereto, will progress in a manner that best converges with the lore progression while tolerating human interaction (especially thereagainst), and can continue in a 'contextually stable / consistent manner' past the end of pre-existing lore.*

### Multi-Level, Multi-Content PCG

In 2019 during preliminary research for a since suspended CS Master's Thesis project: I discovered a parallel if not analogous description of 'The Naughtiest Problem' as described within the introduction chapter of "Procedural Content Generation In Games" written by Shaker/Togelius/Nelson (which I understand to be the first textbook on on PCG for games/simulations). In the section discussing visions of and possibilites for the future of PCG, they introduce a content generator (system) called **'Multi-Level, Multi-Content PCG'** which is described therein as follows:

> *"Multi-level, multi-content PCG refers to a content generator that, for a given game engine and set of game rules, would be able to generate all of the content for the game such that the content is of high quality and fits together perfectly. For example, given the engine and ruleset for the popular computer role-playing game (Elder Scrolls V) Skyrim, this imaginary software would generate backstory, quests, characters, items, weapons, vegetation, terrain, graphics, etc. in such a fashion that it all becomes a coherent, believable new world and an enjoyable game to play." **(PCGIG, pp. 5-6)***

---
## Trifold Principle Of Advanced PCG Worlds

### Introduction

In addition to the **'Content Input Database'** of **'The Naughtiest Problem'** and as expansion of the other key ideas introduced within the original 'base' definition thereof: latter additions speak further about the aforementioned 'features, requirements, and constraints' encompassing the initialization and progression of such worlds. Likewise, I believe that a key definition/qualification regarding such worlds might not be unprecedented, but appears non-existent (at the time of writing). Ergo, I have defined a **'Trifold Principle'** of PCG to encompasses the sum of the aforementioned requirements and constraints towards a (fully) PCG realization of an advanced simulation of some world; from the example of the Naughtiest Provlem and all analogs thereof WLOG. Basically, this principle asserts that optimal procedurally generated environments must keep and enforce the 'illusion of reality' within virtual reality environments as much as possible.

### The Trifold Principle (Of PCG)

The Principle itself is, as implied by its name, composed of three elements as cohesive yet disjoint *sub-principles*:
* **(1)** Principle of **Physical Stability**, which generally encompasses the ***(game) engine*** of the simulation world
* **(2)** Principle of **Contextual Consistency**, which generally encompasses the ***design*** of the simulation world
* **(3)** Principle of **Spatiotemporal Synchronicity**, which generally encompasses the ***initialization / progression*** of the simulation world

### The 'New Principle' and Cohesion Among The Three

The third principle, 'Spatiotemporal Synchronicity', is new in 2022. In fact, the original name of this entire idea was 'Principle of Physical Stability and Contextual Consistency', with the then missing 3rd element embedded within the prior two; however I decided to partition it out therefrom as its scope warrants a disjoint element. However, there nonetheless remains an intended sense of cohesion between all three elements, as the complement of each encompasses the means towards effecting convergence towards optimally realistic procedurally generated simulation environments WRT both human explorers and most importantly: the native inhabitants therein. 

### Principle Of Physical Stability

**Physical Stability** demands that the generated world is stable with respect to the physical laws which govern it; similar to how the laws of gravity, thermodynamics, etc. must always hold in order for our universe to be stable to exist within. 

**WRT General Examples - This means things like:**
* No sudden major gaps of defined world space or missing pieces to the world (e.g. forest turns into giant flat patch of land, there is a voidous space where a town or lake {or ANYTHING for that matter} should be)
* No degenerate geometry whereby characters or otherwise rigidbody items can fall through floors or buildings and/or float in the air *unintentionally* (e.g. pedestrians slipping through a sidewalk or otherwise solid ground)
* Gravity and physical surfaces, fields, and other effects are consistent throughout the world unless intentionally divergent (e.g. gravity is too large, small, none, and/or negative areas where it is not supposed to be)

**WRT Technical Examples - This means things like:**
* Mesh colliders correct with geometry and collision mechanics behave correctly
* No holes exist for terrain meshes nor holes and/or z-fighting for any surface
* No static objects (i.e. trees) are 'floating in the air' nor ever become dynamic
* No physically dynamic objects 'freeze in place' as static objects
* NPCs able to navigate throughout world with no unrealistic pathing effects
* NPCs travel correctly and seamlessly between sub-scenes/environments.

### Principle Of Contextual Consistency

**Contextual Consistency** demands that all *content* in all spaces within the generated world is consistent with all aspects of their respective *context*. For example: an accurate simulation of Paris, France in the 1960's should not have NYPD police cars from the 2010's patrolling the streets, nor a simulation of Middle Earth in Lord Of The Rings have Boeing 747 Jumbo Jets flying over the skies of Gondor. 

**WRT General Examples - This means things like:**
* No police cars, cell phones, modern clothing, nor 757 jets flying over what should be the classic fantasy setting
* Terrain, props, architecture, buildings, NPCs consistent with surrounding area.
* No patch of snow covered tundra in a tropical forest or vice versa.
* No Borg in a DooM simulation, nor Cyberdemons in a Star Trek simulation

### Principle of Spatiotemporal Synchronicity

**Spatiotemporal Synchronicity** requires that on initializing the world at a specified date/time within its official lore timeline: everything and everyone within is physically stable and contextually consistent accordingly; and will furthermore progress forward in time in a manner expected to minimally diverge from the official timeline, and even then over a reasonably long period. 

Another way I worded this is that the simulation will be 'temporally consistent' if given a specified inception time: such that as time progresses, the evolution of the world will 'reasonably' converge upon the lore timeline for the remaining span of context clues given, then likewise diverge thereafter. Again, the special cohesion between this 'new' principle and the two others is intented and self-evident; e.g./i.e. that the knowledge, memories and personalities of any character, and the otherwise state of any entity defined by the input are 'Physically Stable' and 'Contextually Consistent' thereto.

**Example WRT the Lord Of The Rings simulation via The Naughtiest Problem:** Assume the current timeframe is before Gandalf discovers that his fellow wizard Saruman has secretly turned against the fellowship and has aligned with the dark lord Sauron. One should be able to walk up to Gandalf's character, tell him that they think Saruman has become evil, and be told by Gandalf that while Saruman has been quiet-of-late, there's no evidence to prove this claim.





